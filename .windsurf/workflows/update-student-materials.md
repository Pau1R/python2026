---
description: Анализ технических моментов после генерации студенческих задач
auto_execution_mode: 1
---

# Воркфлоу для корректного дополнения теоретической части урока
# (только модификация существующей теории, без добавления новых разделов и списков)

## 1. Подготовка данных

1. Получить:
   - `<lesson_number>`
   - `<lesson_date>`
   - `<lesson_title>`
2. Проверить наличие каталогов и файлов:
   - `python2026_tasks/lessons/lesson <lesson_number> (<lesson_date>). <lesson_title>/tasks/`
   - `python2026/lessons/lesson <lesson_number> (<lesson_date>). <lesson_title>.md`
3. При отсутствии любого элемента остановить выполнение и сообщить, что отсутствует.

## 2. Извлечение теоретических акцентов из заданий

1. Обойти все `task <lesson_number>.<block_number> <student>.md` в `tasks/<block_number>/`.
2. Проанализировать:
   - `## Условие задачи`
   - `## Критерии успешного выполнения`
   - `## Частые ошибки и ограничения`
3. Извлечь теоретические элементы:
   - концепции, операции, свойства структур данных
   - логические и синтаксические правила Python
   - ограничения и типичные технические нюансы
4. Нормализовать:
   - в именительный падеж
   - без имён, без конкретных примеров из практики
   - объединить дубли
5. Сформировать итоговый список ≤5 пунктов на блок.

## 3. Сверка с lesson-файлом

1. Открыть `python2026/lessons/lesson <lesson_number> (<lesson_date>). <lesson_title>.md`.
2. Работать только в существующих разделах:
   - «Содержание темы»
   - описания блоков урока
3. Для каждого теоретического пункта:
   - выполнить регистронезависимый поиск в тексте
   - определить, в каком абзаце дана связанная теория
   - классифицировать:
     - уже раскрыто
     - упомянуто поверхностно
     - отсутствует полностью
4. Для отсутствующих и поверхностных элементов определить конкретный абзац, куда их нужно встроить.

## 4. Модификация существующей теории
*(строго без добавления новых блоков, списков или примеров)*

1. Для каждого отсутствующего пункта:
   - выбрать наиболее близкий по смыслу абзац существующей теории
   - расширить этот абзац 1–2 предложениями, которые естественно раскрывают недостающее понятие
   - формулировки должны быть нейтральными, учебными, без отсылок к практическим заданиям
2. Запрещено:
   - создавать новые заголовки или подзаголовки
   - создавать новые списки
   - добавлять отдельные блоки примеров
   - добавлять новые смысловые секции
3. Разрешено только:
   - расширять или уточнять уже существующие абзацы
   - слегка модифицировать формулировки, чтобы включить недостающее содержание
4. Применить правки через `apply_patch`.

## 5. Финальная валидация

1. Проверить lesson-файл:
   - все недостающие теоретические пункты встроены
   - каждый встроен в существующий абзац, а не оформлен как отдельная секция
   - структура урока не изменилась
   - нет новых списков, заголовков и блоков
2. Сообщить пользователю:
   - какие элементы были встроены
   - в какие абзацы теории они были добавлены
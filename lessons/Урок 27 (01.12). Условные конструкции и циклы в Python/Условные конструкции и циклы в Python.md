# Условные конструкции и циклы в Python

## Цель урока

Разобраться, как в программах принимать решения в зависимости от условий и как повторять действия много раз с помощью циклов. Понять типичные ошибки, которые приводят к неправильной работе кода.

## Ключевые понятия

- булево значение
- оператор сравнения
- логическое выражение
- условный оператор if
- ветви elif и else
- логические операторы and, or, not
- цикл for
- функция range
- цикл while
- бесконечный цикл
- операторы break и continue

## 1. Булевы значения и операторы сравнения

В Python логический тип называется bool и имеет два возможных значения. True и False.

Чаще всего булевы значения получаются как результат операций сравнения.

Примеры операторов сравнения.
- x == y. проверка равенства
- x != y. проверка неравенства
- x > y, x < y. строгие сравнения
- x >= y, x <= y. нестрогие сравнения

Результат любого сравнения. объект типа bool. Например, выражение 5 > 2 возвращает True, а 3 == 4 возвращает False.

Можно комбинировать сравнения в цепочку, например 1 <= x <= 10. такая запись проверяет, что x лежит в диапазоне от 1 до 10 включительно.

## 2. Логические операторы and, or, not

Для объединения нескольких булевых выражений используются логические операторы.

- and. истина только если обе части истинны
- or. истина если хотя бы одна часть истинна
- not. меняет значение на противоположное

Пример.

- x > 0 and x < 10. число x строго между нулем и десятью
- x < 0 or x > 100. число либо меньше нуля, либо больше ста
- not is_raining. истина, когда переменная is_raining равна False

Важный момент. логические выражения должны быть достаточно простыми, иначе в них легко запутаться. Лучше разбивать сложную проверку на несколько понятных шагов.

## 3. Условный оператор if

Условный оператор позволяет выполнить часть кода только при выполнении некоторого условия.

Базовый шаблон.

```python
if условие:
    блок_кода
```

Если условие вычисляется как True, выполняется блок кода с отступом. Если условие ложно, блок пропускается.

Пример. проверка возраста для скидки.

```python
age = int(input("Введите возраст: "))

if age >= 18:
    print("Скидка для взрослых клиента")
```

Важно следить за отступами. В Python отступ определяет, какие строки относятся к условному блоку. Смешивание табуляций и пробелов может приводить к ошибкам, поэтому стоит использовать только пробелы и одинаковую ширину отступа во всем файле.

## 4. Ветви elif и else

Иногда нужно выбрать один из нескольких вариантов. Для этого к if добавляются ветви elif и else.

Шаблон.

```python
if условие_1:
    блок_1
elif условие_2:
    блок_2
else:
    блок_по_умолчанию
```

Работа конструкции.

1. Проверяется условие_1. если оно истинно, выполняется блок_1 и остальные ветви пропускаются.
2. Если условие_1 ложно, проверяется условие_2. если оно истинно, выполняется блок_2.
3. Если ни одно из условий не выполнилось, выполняется блок по умолчанию в ветви else.

Пример. выбор тарифа по возрасту.

```python
age = int(input("Введите возраст: "))

if age < 7:
    print("Детский тариф")
elif age < 18:
    print("Школьный тариф")
elif age < 65:
    print("Взрослый тариф")
else:
    print("Пенсионный тариф")
```

Типичные ошибки.

- использование нескольких независимых if там, где нужен if..elif..else, в результате срабатывает сразу несколько сообщений
- забытый else, когда важно обработать случай, когда ни одно условие не выполнилось
- слишком сложные условия в одной строке, из за чего код трудно читать

## 5. Цикл for и перебор последовательностей

Цикл for используется, когда нужно пройти по всем элементам какой либо последовательности. списку, строке, диапазону чисел.

Общий шаблон.

```python
for переменная in последовательность:
    блок_кода
```

На каждой итерации переменная принимает очередное значение из последовательности, а блок кода выполняется один раз для этого значения.

Примеры.

Перебор списка чисел и вывод только положительных.

```python
numbers = [5, 0, 10, 3, 7]

for n in numbers:
    if n > 0:
        print(n)
```

Подсчет суммы чисел от 1 до N.

```python
n = int(input("Введите N: "))

s = 0
for i in range(1, n + 1):
    s += i

print("Сумма:", s)
```

## 6. Функция range

Функция range создает специальную последовательность целых чисел, по которой удобно итерироваться в цикле for.

Основные варианты вызова.

- range(stop). числа от 0 до stop не включительно
- range(start, stop). числа от start до stop не включительно
- range(start, stop, step). числа с шагом step

Примеры.

- range(5) формирует последовательность 0, 1, 2, 3, 4
- range(1, 5) формирует 1, 2, 3, 4
- range(0, 10, 2) формирует 0, 2, 4, 6, 8

Цикл for с range чаще всего используют для повторения действия заданное число раз или для перебора индексов.

```python
for i in range(3):
    print("Повторение", i)
```

## 7. Цикл while и условие продолжения

Цикл while выполняет блок кода до тех пор, пока условие истинно. Он удобен, когда заранее неизвестно, сколько раз понадобится повторить действие.

Шаблон.

```python
while условие:
    блок_кода
```

Пример. запрашивать число, пока пользователь не введет положительное.

```python
number = int(input("Введите положительное число: "))

while number <= 0:
    print("Число должно быть больше нуля")
    number = int(input("Введите положительное число: "))

print("Вы ввели:", number)
```

Важно следить, чтобы внутри цикла while условие когда нибудь перестало выполняться. иначе цикл станет бесконечным.

## 8. Бесконечные циклы, break и continue

Иногда намеренно пишут цикл с условием, которое всегда истинно, а выход из цикла организуют с помощью специального оператора.

```python
while True:
    команду = input("Введите команду или q для выхода: ")
    if команду == "q":
        break
    print("Вы ввели:", команду)
```

Оператор break немедленно завершает выполнение цикла. Подходит для ситуаций, когда нужно остановиться при наступлении особого события.

Оператор continue пропускает оставшуюся часть текущей итерации и переходит к следующей.

```python
for i in range(1, 6):
    if i == 3:
        continue
    print(i)
```

Здесь программа выведет 1, 2, 4, 5. когда i равно 3, срабатывает continue и строка print не выполняется.

## 9. Связь условных операторов и циклов

Условные операторы и циклы почти всегда используются вместе. Внутри тела цикла мы проверяем условия и решаем, что делать дальше.

Типичные сочетания.

- цикл while с проверкой введенного пользователем значения
- цикл for по списку и проверка каждого элемента с помощью if
- использование break и continue в зависимости от результатов проверки

Понимание того, как связи между условиями и повторением работают в коде, помогает писать программы, которые принимают решения и реагируют на ввод пользователя.

## 10. Распространенные ошибки и как их избегать

- Смешивание оператора присваивания = и оператора сравнения ==.
- Неправильные отступы в блоках if и циклах, из за чего часть строк попадает не в тот блок.
- Слишком сложные условия, в которых трудно разобраться. лучше разбивать проверку на несколько простых шагов.
- Бесконечные циклы, в которых условие никогда не становится ложным.
- Забытые ветви else, когда важно обработать случай по умолчанию.

Аккуратная работа с условиями и циклами делает программу предсказуемой и управляемой. Это один из ключевых навыков при обучении программированию на Python.

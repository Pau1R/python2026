# Урок 31, 32. Основы Python. Работа со строками и списками

## Краткая цель урока
Разобраться с базовыми и продвинутыми операциями со строками и списками в Python. Научиться использовать методы, индексацию и срезы для решения типовых практических задач.

## Ключевые понятия
- строка (`str`) как неизменяемая последовательность символов
- список (`list`) как изменяемая последовательность объектов
- индексация и отрицательные индексы
- срезы (slice): `seq[start:stop:step]`
- основные методы строк
- основные методы списков
- перебор последовательностей в циклах

## 1. Строки в Python

### 1.1. Базовые свойства строк
- Строка неизменяема: операции создают новую строку, а не меняют исходную
- Индексация с нуля: `s[0]` . первый символ, `s[-1]` . последний

Пример:
```python
s = "python"
first = s[0]      # 'p'
last = s[-1]      # 'n'
```

Типичные ошибки:
- попытка изменить символ по индексу: `s[0] = 'P'` . приведет к ошибке `TypeError`
- выход за границы: `s[10]` . `IndexError`

### 1.2. Конкатенация и повторение
- Конкатенация: `+`
- Повторение: `*`

```python
name = "Al" + "ice"      # "Alice"
line = "-" * 10           # "----------"
```

Ошибки:
- попытка складывать строку и число без приведения типов: `"age" + 10`

### 1.3. Частые методы строк

```python
text = "  Python for beginners  "
text_strip = text.strip()     # убирает пробелы по краям
upper = text_strip.upper()    # "PYTHON FOR BEGINNERS"
lower = text_strip.lower()    # "python for beginners"
replaced = text_strip.replace("for", "4")
words = text_strip.split()    # ["Python", "for", "beginners"]
joined = "-".join(words)     # "Python-for-beginners"
```

Обрати внимание:
- `split()` без аргументов режет по пробелам, табам и переводам строки
- `join()` вызывается у строки-разделителя, а не у списка

## 2. Списки в Python

### 2.1. Создание и базовые операции

```python
nums = [10, 20, 30]
empty = []
mixed = [1, "two", 3.0]
```

- индексирование: `nums[0]`, `nums[-1]`
- конкатенация: `nums + [40, 50]`
- повторение: `nums * 2`

Типичные ошибки:
- ожидать копирования объекта при присваивании: `b = a` . это ссылка на тот же список

### 2.2. Методы списков

```python
nums = [10, 20, 30]
nums.append(40)        # [10, 20, 30, 40]
nums.extend([50, 60])  # [10, 20, 30, 40, 50, 60]
nums.insert(1, 15)     # [10, 15, 20, 30, 40, 50, 60]
last = nums.pop()      # удаляет и возвращает последний элемент
nums.remove(20)        # удаляет первое вхождение 20
nums.sort()            # сортировка на месте
rev = list(reversed(nums))  # новая перевернутая копия
```

Отличие `append` и `extend`:
- `append(x)` добавляет один объект `x`
- `extend(iterable)` разворачивает элементы последовательности и добавляет их по одному

### 2.3. Поверхностное копирование списков

```python
original = [1, 2, [3, 4]]
copy1 = original[:]         # срез
copy2 = list(original)      # конструктор list
copy3 = original.copy()     # метод списка
```

Все три делают поверхностную копию: вложенный список остается общим.

## 3. Индексация и срезы

### 3.1. Индексация

```python
s = "abcdef"
print(s[0])   # 'a'
print(s[-1])  # 'f'
```

### 3.2. Срезы
Общий вид: `seq[start:stop:step]`

```python
s = "abcdef"
print(s[:3])     # 'abc' . первые три
print(s[2:])     # 'cdef' . с индекса 2 до конца
print(s[::2])    # 'ace'  . каждый второй
print(s[::-1])   # 'fedcba' . разворот
```

Типичные ошибки:
- путаница включительности: `stop` не включается в результат
- ожидание изменения исходной строки/списка . срез возвращает новый объект

## 4. Перебор строк и списков

### 4.1. Перебор по элементам

```python
for ch in "abc":
    print(ch)

nums = [10, 20, 30]
for x in nums:
    print(x)
```

### 4.2. Перебор с индексами через enumerate

```python
nums = [10, 20, 30]
for i, x in enumerate(nums):
    print(i, x)
```

## 5. Мини-задачи для практики

### Задача 1. Форматирование строки имени
Ввод: имя и фамилия в произвольном регистре.

Требуется:
- удалить лишние пробелы по краям
- привести к виду `Имя Фамилия` с заглавной первой буквой

Подсказка: используй `strip()`, `split()`, `title()` или комбинацию методов.

### Задача 2. Фильтрация списка чисел
Дан список чисел. Создай новый список, содержащий только четные числа, используя цикл или генератор списков.

### Задача 3. Работа со срезами
Дана строка `s`. Построй три новые строки:
- первые три символа
- строка без первого и последнего символа
- каждый второй символ, начиная с первого

## 6. Частые ошибки и рекомендации
- Путаница между методами строки и списка (`split`, `join`, `append`, `extend`)
- Попытки изменить строку по индексу вместо создания новой
- Непонимание, что срезы возвращают новый объект
- Использование одного и того же списка по ссылке в нескольких переменных без копирования
- Игнорирование крайних случаев: пустые строки, пустые списки, индексы за пределами длины
